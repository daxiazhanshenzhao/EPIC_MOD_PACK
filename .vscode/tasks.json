{
  "version": "2.0.0",
  "tasks": [
    {
      // packwiz refresh: 在 pack 目录下运行 packwiz refresh，更新 pack 的依赖与索引
      "label": "Packwiz: refresh",
      "type": "shell",
      "command": "packwiz refresh",
      "options": {
        "cwd": "${workspaceFolder}/pack",
        "shell": {
          "executable": "powershell.exe",
          "args": ["-NoProfile", "-Command"]
        }
      },
      "presentation": { "echo": true, "reveal": "always", "panel": "shared" },
      "problemMatcher": []
    },
    {
      // packwiz init: 在 pack 目录中初始化 packwiz 配置（通常只需运行一次）
      "label": "Packwiz: init",
      "type": "shell",
      "command": "packwiz init",
      "options": {
        "cwd": "${workspaceFolder}/pack",
        "shell": {
          "executable": "powershell.exe",
          "args": ["-NoProfile", "-Command"]
        }
      },
      "presentation": { "echo": true, "reveal": "always", "panel": "shared" },
      "problemMatcher": []
    },
    {
      // packwiz curseforge detect: 检测并生成 curseforge 相关元数据（在 pack 目录下运行）
      "label": "Packwiz: curseforge detect",
      "type": "shell",
      "command": "packwiz curseforge detect",
      "options": {
        "cwd": "${workspaceFolder}/pack",
        "shell": {
          "executable": "powershell.exe",
          "args": ["-NoProfile", "-Command"]
        }
      },
      "presentation": { "echo": true, "reveal": "always", "panel": "shared" },
      "problemMatcher": []
    },
    {
      // packwiz curseforge export: 将 pack 导出为 curseforge 可用的格式或存档（在 pack 目录下运行）
      "label": "Packwiz: curseforge export",
      "type": "shell",
      "command": "packwiz curseforge export",
      "options": {
        "cwd": "${workspaceFolder}/pack",
        "shell": {
          "executable": "powershell.exe",
          "args": ["-NoProfile", "-Command"]
        }
      },
      "presentation": { "echo": true, "reveal": "always", "panel": "shared" },
      "problemMatcher": []
    },
    {
      // 顺序执行上面四个 packwiz 命令（refresh -> init -> detect -> export）
      "label": "Packwiz: all (sequence)",
      "dependsOn": [
        "Packwiz: refresh",
        "Packwiz: init",
        "Packwiz: curseforge detect",
        "Packwiz: curseforge export"
      ],
      "dependsOrder": "sequence"
    }
  ]
}
